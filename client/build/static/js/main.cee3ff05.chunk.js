(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{119:function(e,n){},125:function(e,n,t){"use strict";t.r(n);var r,a,i,c,o,u,l,s,m,d,f,b,g,p,h,v,O,E,j,x,y,k,C,w,T,_,A,I,S,D,N,R,L,z,F,B,M,H,U,G,P,V,J,K,Q,W,X,q,Y,Z,$,ee,ne,te,re,ae,ie,ce,oe,ue,le,se,me,de,fe,be,ge,pe,he,ve,Oe,Ee,je,xe,ye,ke,Ce,we,Te,_e,Ae,Ie,Se,De,Ne,Re,Le,ze,Fe,Be,Me,He,Ue,Ge,Pe,Ve,Je,Ke,Qe,We,Xe,qe,Ye,Ze,$e,en,nn,tn,rn,an,cn,on,un=t(1),ln=t.n(un),sn=t(33),mn=t.n(sn),dn=t(6),fn=t(3),bn=t(2),gn=t(9),pn=t(5),hn=t(10),vn=t.n(hn),On=t(15),En=t(20),jn=t(4),xn=t(22),yn=bn.c.input(r||(r=Object(fn.a)(["\n  border-radius: 6px;\n  border: ",';\n  padding: 0.75em;\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  width: 100%;\n  margin: 0.5em 0;\n'])),(function(e){return e.error?"1px solid rgba(213, 0, 0, 1)":"1px solid rgba(0, 0, 0, 0.2)"})),kn=bn.c.label(a||(a=Object(fn.a)(['\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  font-size: 0.875em;\n  color: rgba(0, 0, 0, 0.4);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  transform: translatex(0.75em);\n  transform: ',";\n  font-size: ",";\n  color: ",";\n  align-items: center;\n  display: flex;\n  pointer-events: none;\n  transition: 0.5s ease;\n"])),(function(e){return e.selected&&"translatey(-65%)"}),(function(e){return e.selected&&".7em"}),(function(e){return e.selected&&"rgba(0, 0, 0, .6)"})),Cn=bn.c.div(i||(i=Object(fn.a)(["\n  position: relative;\n  flex-grow: 1;\n  margin: 0.75em 0;\n"]))),wn=function(e){var n=e.label,t=e.type,r=e.name,a=e.value,i=e.onChange,c=e.error,o=e.onBlur,u=e.onFocus,l=Object(un.useState)(!1),s=Object(dn.a)(l,2),m=s[0],d=s[1];return ln.a.createElement(Cn,null,ln.a.createElement(kn,{selected:m},n),ln.a.createElement(yn,{type:t,name:r,value:a,onChange:i,onBlur:function(){""===a&&d(!m),o&&o()},onFocus:function(){""===a&&d(!m),u&&u()},error:c}))},Tn=bn.c.button(c||(c=Object(fn.a)(['\n  display: flex;\n  flex-grow: 1;\n  margin-top: 1em;\n  padding: 0.5em;\n  justify-content: center;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 600;\n  color: ',";\n  font-size: 1em;\n  border-radius: 6px;\n  border: ",";\n  background-color: ",";\n  outline: none;\n  transition: ",";\n  &:hover {\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n      0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  }\n  &:active {\n    box-shadow: none;\n  }\n"])),(function(e){return e.theme.buttonText||"rgb(245,245,245)"}),(function(e){return e.theme.buttonBorder||"none"}),(function(e){return e.theme.buttonBackground||"rgb(31, 31, 31)"}),(function(e){return e.theme.transition})),_n=function(e){var n=e.children,t=e.onClick,r=e.disabled;return ln.a.createElement(Tn,{disabled:r,onClick:t},n)},An=bn.c.form(o||(o=Object(fn.a)(['\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  border-radius: 6px;\n  padding: 2em 2em 2em 2em;\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12),\n    0 1px 3px 0 rgba(0, 0, 0, 0.2);\n  max-width: 500px;\n  & > h1 {\n    font-family: "Open Sans", sans-serif;\n    font-weight: 700;\n    color: rgba(0, 0, 0, 0.7);\n  }\n  @media (max-width: 576px) {\n    border: none;\n    box-shadow: none;\n    min-width: 100%;\n  }\n']))),In=bn.c.p(u||(u=Object(fn.a)(['\n  text-align: center;\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  font-size: 0.875em;\n  color: rgba(213, 0, 0, 1);\n']))),Sn=function(e){var n=e.title,t=e.error,r=e.children,a=e.onSubmit;return ln.a.createElement(An,{onSubmit:function(e){e.preventDefault(),a(e)}},n&&ln.a.createElement("h1",null,n),t&&ln.a.createElement(In,null,t),r)},Dn=function(e){return{type:"LOGIN",payload:e}},Nn=function(e){return{type:"SET_ACTIVE_CHAT",payload:e}},Rn=bn.c.label(l||(l=Object(fn.a)(["\n  display: flex;\n  cursor: pointer;\n  min-width: 50px;\n  min-height: 25px;\n  border-radius: 25px;\n  position: relative;\n  transition: background-color 0.2s;\n  background: ",";\n"])),(function(e){return e.state?"rgba(90, 216, 177, 1)":"rgba(0, 0, 0, 0.4)"})),Ln=bn.c.span(s||(s=Object(fn.a)(["\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  min-width: 21px;\n  min-height: 21px;\n  border-radius: 50%;\n  transition: 0.2s;\n  background: rgb(245, 245, 245);\n  transform: ",";\n"])),(function(e){return e.state?"translateX(calc(100% + 4px))":"unset"})),zn=function(e){var n=e.onClick,t=e.state;return ln.a.createElement(Rn,{onClick:n,state:t},ln.a.createElement(Ln,{state:t}))},Fn=t(80),Bn=function(e){var n=e.setVerification,t=Object(un.useCallback)((function(e){n(e),console.log("captcha:",e)}),[]);return ln.a.createElement(Fn.a,{charNum:4,onChange:t})},Mn=bn.c.div(m||(m=Object(fn.a)(['\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  flex-direction: column;\n  & > p {\n    text-align: center;\n    font-family: "Roboto", sans-serif;\n    font-weight: 500;\n    font-size: 0.875em;\n    color: rgba(0, 0, 0, 0.6);\n\n    & > a {\n      text-decoration: none;\n      color: inherit;\n      color: rgba(0, 0, 0, 0.8);\n    }\n  }\n']))),Hn=bn.c.div(d||(d=Object(fn.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Un=bn.c.label(f||(f=Object(fn.a)(['\n  display: flex;\n  align-items: center;\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  font-size: 0.775em;\n  color: rgba(0, 0, 0, 0.6);\n  & > span {\n    margin-right: .5rem\n  }\n']))),Gn=function(){var e=Object(un.useState)({username:{touched:!1,value:""},password:{touched:!1,value:""},input_verification:{touched:!1,value:""},rememberMe:!1}),n=Object(dn.a)(e,2),t=n[0],r=n[1],a=Object(un.useState)(""),i=Object(dn.a)(a,2),c=i[0],o=i[1],u=Object(un.useState)(""),l=Object(dn.a)(u,2),s=l[0],m=l[1],d=Object(pn.b)(),f=function(e){return r(Object(jn.a)(Object(jn.a)({},t),{},Object(En.a)({},e,Object(jn.a)(Object(jn.a)({},t[e]),{},{touched:!0}))))},b=function(e,n){r(Object(jn.a)(Object(jn.a)({},t),{},Object(En.a)({},e,Object(jn.a)(Object(jn.a)({},t[e]),{},{value:n}))))},g={username:""!==t.username.value.trim(),password:""!==t.password.value.trim(),verification:""!==t.input_verification.value.trim()},p=function(){var e=Object(On.a)(vn.a.mark((function e(n){var r,a;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.trim()===t.input_verification.value.trim()){e.next=4;break}o("Incorrect Verificaction Code"),e.next=20;break;case 4:return e.prev=4,e.next=7,fetch("http://127.0.0.1:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:t.username.value,password:t.password.value,remember:t.rememberMe})});case 7:if(200!==(r=e.sent).status){e.next=15;break}return e.next=11,r.json();case 11:a=e.sent,d(Dn(a)),e.next=16;break;case 15:401===r.status&&o("Incorrect username/password");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(4);case 20:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(n){return e.apply(this,arguments)}}();return ln.a.createElement(Mn,null,ln.a.createElement(Sn,{title:"Login",error:c,onSubmit:p},ln.a.createElement(wn,{label:"Username",type:"text",name:"username",value:t.username.value,onChange:function(e){return b("username",e.target.value)},error:!!t.username.touched&&!g.username,onBlur:function(){return f("username")},autocomplete:"username"}),ln.a.createElement(wn,{label:"Password",type:"password",name:"password",value:t.password.value,onChange:function(e){return b("password",e.target.value)},error:!!t.password.touched&&!g.password,onBlur:function(){return f("password")},autocomplete:"password"}),ln.a.createElement(Hn,null,ln.a.createElement(wn,{label:"Verification Code",type:"VerificationCode",name:"VerificationCode",value:t.input_verification.value,onChange:function(e){return b("input_verification",e.target.value)},error:!!t.input_verification.touched&&!g.verification,onBlur:function(){return f("input_verification")}}),ln.a.createElement(Bn,{setVerification:m})),ln.a.createElement(Un,null,ln.a.createElement("span",null,"Remember me"),ln.a.createElement(zn,{onClick:function(){return r(Object(jn.a)(Object(jn.a)({},t),{},{rememberMe:!t.rememberMe}))},state:t.rememberMe})),ln.a.createElement(_n,{type:"submit",disabled:!Object.keys(g).some((function(e){return g[e]}))},"Login")),ln.a.createElement("p",null,"Don't have an account? ",ln.a.createElement(xn.b,{to:"/register"},"Register")))},Pn=bn.c.div(b||(b=Object(fn.a)(['\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n  & > p {\n    text-align: center;\n    font-family: "Roboto", sans-serif;\n    font-weight: 500;\n    font-size: 0.875em;\n    color: rgba(0, 0, 0, 0.6);\n    & > a {\n      text-decoration: none;\n      color: inherit;\n      color: rgba(0, 0, 0, 0.8);\n    }\n  }\n']))),Vn=bn.c.p(g||(g=Object(fn.a)(['\n  text-align: center;\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  font-size: 0.875em;\n  color: rgba(0, 205, 93, 1);\n']))),Jn=Object(bn.d)((function(e){var n=e.history,t=Object(un.useState)({userNickname:{touched:!1,value:""},username:{touched:!1,value:""},password:{touched:!1,value:""},passwordConfirm:{touched:!1,value:""},firstname:{touched:!1,value:""},lastname:{touched:!1,value:""},email:{touched:!1,value:""}}),r=Object(dn.a)(t,2),a=r[0],i=r[1],c=Object(un.useState)(!1),o=Object(dn.a)(c,2),u=o[0],l=o[1],s=Object(un.useState)(""),m=Object(dn.a)(s,2),d=m[0],f=m[1],b=function(e){return i(Object(jn.a)(Object(jn.a)({},a),{},Object(En.a)({},e,Object(jn.a)(Object(jn.a)({},a[e]),{},{touched:!0}))))},g=function(e,n){i(Object(jn.a)(Object(jn.a)({},a),{},Object(En.a)({},n,Object(jn.a)(Object(jn.a)({},a[n]),{},{value:e}))))},p={userNickname:""!==a.userNickname.value.trim(),username:""!==a.username.value.trim(),password:""!==a.password.value.trim(),passwordConfirm:a.password.value.trim()===a.passwordConfirm.value.trim(),firstname:""!==a.firstname.value.trim(),lastname:""!==a.lastname.value.trim(),email:""!==a.email.value.trim()},h=function(){var e=Object(On.a)(vn.a.mark((function e(){var t;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/register",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({userNickname:a.userNickname.value,username:a.username.value,password:a.password.value,firstname:a.firstname.value,lastname:a.lastname.value,email:a.email.value})});case 3:if(201!==(t=e.sent).status){e.next=9;break}return l(!0),e.abrupt("return",setTimeout((function(){return n.push("/login")}),3e3));case 9:if(409!==t.status){e.next=13;break}return e.abrupt("return",f("Username and/or email already exist!"));case 13:return e.abrupt("return",f("Issue during registration!"));case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",f("Issue during registration!"));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return ln.a.createElement(Pn,null,ln.a.createElement(Sn,{title:"Register",error:d,onSubmit:h},u&&ln.a.createElement(Vn,null,"Registration successful, Redirecting to login!"),ln.a.createElement(wn,{label:"UserNickname",type:"text",name:"userNickname",value:a.userNickname.value,error:a.userNickname.touched&&!p.userNickname,onBlur:function(){return b("userNickname")},onChange:function(e){return g(e.target.value,"userNickname")},autocomplete:"user nickname"}),ln.a.createElement(wn,{label:"Username",type:"text",name:"username",value:a.username.value,error:a.username.touched&&!p.username,onBlur:function(){return b("username")},onChange:function(e){return g(e.target.value,"username")},autocomplete:"username"}),ln.a.createElement(wn,{label:"Password",type:"password",name:"password",value:a.password.value,error:a.password.touched&&!p.password,onBlur:function(){return b("password")},onChange:function(e){return g(e.target.value,"password")},autocomplete:"password"}),ln.a.createElement(wn,{label:"Confirm Password",type:"password",name:"passwordConfirm",value:a.passwordConfirm.value,error:a.passwordConfirm.touched&&!p.passwordConfirm,onBlur:function(){return b("passwordConfirm")},onChange:function(e){return g(e.target.value,"passwordConfirm")},autocomplete:"password"}),ln.a.createElement(wn,{label:"Firstname",type:"text",name:"firstname",value:a.firstname.value,error:a.firstname.touched&&!p.firstname,onBlur:function(){return b("firstname")},onChange:function(e){return g(e.target.value,"firstname")},autocomplete:"firstname"}),ln.a.createElement(wn,{label:"Lastname",type:"text",name:"lastname",value:a.lastname.value,error:a.lastname.touched&&!p.lastname,onBlur:function(){return b("lastname")},onChange:function(e){return g(e.target.value,"lastname")},autocomplete:"lastname"}),ln.a.createElement(wn,{label:"Email",type:"text",name:"email",value:a.email.value,error:a.email.touched&&!p.email,onBlur:function(){return b("email")},onChange:function(e){return g(e.target.value,"email")},autocomplete:"email"}),ln.a.createElement(_n,{disabled:!Object.keys(p).some((function(e){return p[e]}))},"Register")),ln.a.createElement("p",null,"Already have an account? ",ln.a.createElement(xn.b,{to:"/login"},"Login")))})),Kn=bn.c.div(p||(p=Object(fn.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Qn=bn.c.div(h||(h=Object(fn.a)(["\n  position: relative;\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  padding: 2px;\n  box-sizing: unset;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  background-clip: padding-box;\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.image})),Wn=bn.c.div(v||(v=Object(fn.a)(["\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background-color: ",";\n"])),(function(e){return e.active?"#00C853":"#d50000"})),Xn=function(e){var n=e.image,t=(e.username,e.userNickname),r=e.size,a=void 0===r?"40px":r,i=e.active,c=e.onClick,o=e.className,u=e.displayStatus,l=void 0!==u&&u;return ln.a.createElement(Kn,{className:o,onClick:c},ln.a.createElement(Qn,{size:a,image:n,alt:t},l&&ln.a.createElement(Wn,{active:i})))},qn=bn.c.div(O||(O=Object(fn.a)(["\n  padding: 0.5em 1em;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ",";\n  border-radius: 12px;\n  margin: 0 0.5rem;\n  color: ",";\n  transition: ",";\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.selected&&e.theme.elemBackgroundHover}),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.transition}),(function(e){return e.theme.elemBackgroundHover})),Yn=bn.c.div(E||(E=Object(fn.a)(["\n  display: flex;\n  flex-grow: 1;\n  margin-left: 0.75em;\n  flex-direction: column;\n"]))),Zn=bn.c.p(j||(j=Object(fn.a)(['\n  font-family: "Montserrat", sans-serif;\n  font-weight: 600;\n  font-size: 0.6725em;\n  color: inherit;\n  margin: 0;\n']))),$n=Object(bn.c)(Zn)(x||(x=Object(fn.a)(["\n  font-size: 0.6225em;\n  color: inherit;\n"]))),et=Object(bn.c)($n)(y||(y=Object(fn.a)(["\n  color: inherit;\n"]))),nt=Object(bn.d)((function(e){var n=e.onClick,t=(e.onContextMenu,e.chatActive),r=(e.username,e.userNickname),a=e.avatar,i=e.userActive,c=e.displayStatus,o=e.message,u=void 0===o?"":o,l=e.timestamp,s=void 0===l?null:l;return ln.a.createElement(qn,{onClick:n,selected:t},ln.a.createElement(Xn,{active:i,userNickname:r,displayStatus:c,image:a}),ln.a.createElement(Yn,null,ln.a.createElement(Zn,null,r),ln.a.createElement($n,null,u)),s&&ln.a.createElement(et,null,new Date(s).toLocaleTimeString().slice(0,5)))})),tt=bn.c.div(k||(k=Object(fn.a)(["\n  padding: 0.5em 1em;\n  display: flex;\n  justify-content: space-around;\n  background-color: ",";\n  border-radius: 12px;\n  margin: 0 0.5rem;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.075);\n  }\n"])),(function(e){return e.selected&&"rgba(0, 0, 0, 0.075)"})),rt=bn.c.div(C||(C=Object(fn.a)(['\n  font-family: "Montserrat", sans-serif;\n  font-weight: 600;\n  font-size: 0.65em;\n  padding: 0.25rem 0;\n  color: ',";\n  & > span {\n    color: inherit;\n  }\n"])),(function(e){return e.theme.backgroundColor})),at=bn.c.button(w||(w=Object(fn.a)(["\n  outline: none;\n  border-radius: 0.25em;\n  border: ",";\n  padding: 0.25em;\n  color: ",";\n  background-color: transparent;\n  font-size: 0.6em;\n  flex-grow: 1;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n  margin: ",";\n"])),(function(e){return e.theme.backgroundColor||"1px solid rgba(0, 0, 0, 0.2)"}),(function(e){return e.theme.backgroundColor||"rgba(0, 0, 0, 0.8)"}),(function(e){return e.margin||0})),it=bn.c.div(T||(T=Object(fn.a)(["\n  padding: 0.25rem 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n"]))),ct=bn.c.div(_||(_=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 0.5rem;\n"]))),ot=function(e){var n=e.id,t=e.sender,r=e.message,a=e.type,i=e.socket,c=e.image,o=function(){return i.emit("DELETE_NOTIFICATION",n)},u="ERROR"===a||"FRIEND_REQUEST_ACCEPTED"===a,l="FRIEND_REQUEST"===a;return ln.a.createElement(tt,null,l&&ln.a.createElement(Xn,{username:t,image:c}),ln.a.createElement(ct,null,ln.a.createElement(rt,null,ln.a.createElement("span",null,r)),l&&ln.a.createElement(it,null,ln.a.createElement(at,{margin:"0 .25em 0 0",onClick:function(){return i.emit("FRIEND_REQUEST_ACCEPTED",{username:t,id:n})}},"Accept"),ln.a.createElement(at,{margin:"0 0 0 .25em",onClick:o},"Reject")),u&&ln.a.createElement(it,null,ln.a.createElement(at,{onClick:o},"Dismiss"))))},ut=bn.c.div(A||(A=Object(fn.a)(["\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  margin: 0 0.75rem 1.5rem 0.75rem;\n"]))),lt=bn.c.input(I||(I=Object(fn.a)(['\n  font-family: "Montserrat", sans-serif;\n  font-weight: 500;\n  font-size: 0.6725rem;\n  color: ',";\n  border: none;\n  outline: none;\n  border-radius: 12px;\n  padding: 0.5rem 0.75rem;\n  background-color: ",";\n  transition: ",";\n  flex-grow: 1;\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.transition})),st=function(e){var n=e.search,t=e.value,r=e.onFocus;return ln.a.createElement(ut,null,ln.a.createElement(lt,{type:"text",name:"search",placeholder:"Search",value:t,onFocus:r,onChange:function(e){return n(e.target.value)}}))},mt=t(8),dt=bn.c.div(S||(S=Object(fn.a)(["\n  display: flex;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.transition})),ft=bn.c.div(D||(D=Object(fn.a)(["\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  height: 100%;\n  width: 100%;\n"]))),bt=bn.c.div(N||(N=Object(fn.a)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: inherit;\n  border-radius: 0.25em;\n  padding: 1em;\n  flex-basis: 500px;\n  z-index: 4;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),gt=bn.c.div(R||(R=Object(fn.a)(["\n    display: flex;\n    align-items: center;\n    padding: 0.5rem 0.75rem;\n    min-height: 2rem;\n    max-height: 8rem;\n    border-radius: 12px;\n    transition: all 0.05s ease-in-out;\n    margin: 0.5rem 1.5rem 0 1.5rem;\n    transition: ",";\n"])),(function(e){return e.theme.transition})),pt=bn.c.div(L||(L=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),ht=bn.c.div(z||(z=Object(fn.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  margin: ",";\n"])),(function(e){return e.justify||"unset"}),(function(e){return e.margin||"0 0 1.5rem 0;"})),vt=(bn.c.div(F||(F=Object(fn.a)(["\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    grid-area: lists;\n"]))),bn.c.div(B||(B=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  padding: 0 1.5rem;\n"])))),Ot=Object(bn.c)(_n)(M||(M=Object(fn.a)(["\n"]))),Et=function(e){var n=e.socket,t=e.setActiveList,r=(e.user,e.resetButton);console.log("come select window!");var a=Object(un.useRef)(null),i=Object(pn.c)((function(e){return e.rootReducer.friends})),c=Object(un.useState)(function(e){var n=[];return e.map((function(e,t){return n.push(Object(jn.a)(Object(jn.a)({},e),{},{selected:!0}))})),n}(i)),o=Object(dn.a)(c,2),u=o[0],l=o[1];return ln.a.createElement(dt,null,ln.a.createElement(ft,{onClick:function(){r(!1),t("add")}}),ln.a.createElement(bt,null,ln.a.createElement(vt,{ref:a},u.map((function(e){return ln.a.createElement(ht,{justify:"space-between"},ln.a.createElement(pt,null,ln.a.createElement(nt,{id:e.id,key:e.id,username:e.username,avatar:e.avatar})),ln.a.createElement(zn,{onClick:function(){return function(e){var n=Object(mt.a)(u);n.find((function(n){return n.username==e.username})).selected=!e.selected,l(n)}(e)},state:e.selected}))}))),ln.a.createElement(gt,null,ln.a.createElement(Ot,{onClick:function(){var e=[];u.map((function(n){n.selected&&e.push(n.username)})),console.log(e),n.emit("ADD_CHAT",e)}},"Create now!"))))},jt=Object(bn.c)(_n)(H||(H=Object(fn.a)(["\n\n"]))),xt=bn.c.div(U||(U=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  grid-area: messages;\n  justify-content: space-between;\n  padding: 1.5rem 0;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),yt=function(e){var n=e.socket,t=e.setActiveList,r=e.user,a=Object(un.useState)(!1),i=Object(dn.a)(a,2),c=i[0],o=i[1];console.log("come create group!");return console.log(c),ln.a.createElement(xt,null,ln.a.createElement(jt,{onClick:function(){o(!0)}},"Create New Group Chat!"),c&&ln.a.createElement(Et,{socket:n,setActiveList:t,user:r,resetButton:o}))},kt=t(17),Ct=bn.c.div(G||(G=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  border-right: ",";\n  min-width: 280px;\n  overflow-y: hidden;\n  grid-area: lists;\n  padding: 1.5rem 0;\n  z-index: 1;\n  background: ",";\n  transition: ",";\n  @media (max-width: 700px) {\n    position: absolute;\n    left: ",";\n    height: 100%;\n    transition: all 0.25s ease-in-out;\n  }\n"])),(function(e){return e.theme.border}),(function(e){return e.theme.background}),(function(e){return e.theme.transition}),(function(e){return e.open?"64px":"-100%"})),wt=bn.c.div(P||(P=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  grid-area: lists;\n"]))),Tt=Object(bn.c)(kt.e)(V||(V=Object(fn.a)(["\n    padding-right: 1em;\n    box-sizing: content-box;\n"]))),_t=bn.c.div(J||(J=Object(fn.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items:center;\n    &:hover {\n        background-color: ",";\n      }\n"])),(function(e){return e.theme.elemBackgroundHover})),At=bn.c.p(K||(K=Object(fn.a)(['\n  text-align: center;\n  margin: 0.5em 0;\n  font-family: "Montserrat", sans-serif;\n  font-weight: 500;\n  font-size: 0.6725em;\n  color: ',";\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.backgroundText}),(function(e){return e.theme.elemBackground}),(function(e){return e.theme.transition})),It=function(e){var n=e.socket,t=e.open,r=e.activeList,a=e.setActiveList,i=Object(un.useState)(""),c=Object(dn.a)(i,2),o=c[0],u=c[1],l=Object(pn.c)((function(e){return e.rootReducer.activeChat.id})),s=Object(pn.c)((function(e){return e.rootReducer.user.notifications})),m=Object(pn.c)((function(e){return e.rootReducer.chats})).filter((function(e){return""===o||e.recipient.includes(o)})),d=Object(pn.c)((function(e){return e.rootReducer.friends})).filter((function(e){return""===o||e.username.includes(o)||e.userNickname.includes(o)})),f=Object(pn.c)((function(e){return e.rootReducer.accounts})).filter((function(e){return""===o||e.username.includes(o)})),b=Object(pn.b)(),g=function(e){return r===e},p=function(e){return""!==o&&r===e};return ln.a.createElement(Ct,{open:t},ln.a.createElement(st,{value:o,onFocus:function(){return n.emit("LOAD_USERS")},search:u}),ln.a.createElement(wt,null,p("chats")&&ln.a.createElement(At,null,"Chats"),g("chats")&&ln.a.createElement(yt,{socket:n,setActiveList:a}),g("chats")&&m.map((function(e){return ln.a.createElement(nt,{key:e.id,userNickname:e.chat_name,avatar:e.avatar,userActive:e.active,chatActive:l===e.id,displayStatus:!0,onClick:function(){return b(Nn({id:e.id,chat_name:e.chat_name,active:e.active,recipient:e.recipient,recipientId:e.recipientId,avatar:e.avatar}))},message:e.last_message,timestamp:e.last_message_timestamp})})),p("friends")&&ln.a.createElement(At,null,"Friends"),g("friends")&&d.map((function(e){return ln.a.createElement(nt,{id:e.id,key:e.id,userNickname:e.userNickname,onClick:function(){return function(e,t){var r=m.find((function(n){return n.recipient===[e]}));r?b(Nn({id:r.id,recipient:[e],recipientId:[t]})):n.emit("ADD_CHAT",[e]),a("chats")}(e.username,e.id)},avatar:e.avatar,active:e.active,displayStatus:!0})})),p("add")&&ln.a.createElement(ln.a.Fragment,null,ln.a.createElement(At,null,"Users"),f.map((function(e){return ln.a.createElement(_t,null,ln.a.createElement(nt,{id:e.id,key:e.id,userNickname:e.userNickname,avatar:e.avatar}),ln.a.createElement(Tt,{size:"25px",onClick:function(){return n.emit("FRIEND_REQUEST",e.id)}}))}))),g("notifications")&&s.map((function(e){return ln.a.createElement(ot,{socket:n,id:e.id,key:e.id,sender:e.sender,message:e.message,type:e.type,image:e.avatar})}))))},St=bn.c.label(Q||(Q=Object(fn.a)(["\n  border-radius: 0.5em;\n  background-color: ",";\n  color: ",";\n  border: ",';\n  padding: 0.75em 1em;\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  font-size: 0.7em;\n  width: max-content;\n  transition: ',";\n"])),(function(e){return e.theme.buttonBackground}),(function(e){return e.theme.buttonText}),(function(e){return e.theme.buttonBorder}),(function(e){return e.theme.transition})),Dt=bn.c.input(W||(W=Object(fn.a)(["\n  width: 1px;\n  height: 1px;\n  position: absolute;\n"]))),Nt=function(e){var n=e.file,t=e.className,r=e.children,a=e.text,i=e.uid;return ln.a.createElement(St,{htmlFor:i,className:t},r,a,ln.a.createElement(Dt,{type:"file",onChange:function(e){e.currentTarget.files.length>0&&"image"===e.currentTarget.files[0].type.split("/")[0]&&n(e.currentTarget.files[0],e.currentTarget.files[0].name.split(".")[1])},id:i,name:i}))},Rt=["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83e\udd23","\ud83d\ude03","\ud83d\ude04","\ud83d\ude05","\ud83d\ude06","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude0b","\ud83d\ude0e","\ud83d\ude0d","\ud83d\ude18","\ud83e\udd70","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a","\ud83d\ude42","\ud83e\udd17","\ud83e\udd29","\ud83e\udd14","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude44","\ud83d\ude0f","\ud83d\ude23","\ud83d\ude25","\ud83d\ude2e","\ud83e\udd10","\ud83d\ude2f","\ud83d\ude2a","\ud83d\ude2b","\ud83d\ude34","\ud83d\ude0c","\ud83d\ude1b","\ud83d\ude1c","\ud83d\ude1d","\ud83e\udd24","\ud83d\ude12","\ud83d\ude13","\ud83d\ude14","\ud83d\ude15","\ud83d\ude43","\ud83e\udd11","\ud83d\ude32","\u2639\ufe0f","\ud83d\ude41","\ud83d\ude16","\ud83d\ude1e","\ud83d\ude1f","\ud83d\ude24","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude29","\ud83e\udd2f","\ud83d\ude2c","\ud83d\ude30","\ud83d\ude31","\ud83e\udd75","\ud83e\udd76","\ud83d\ude33","\ud83e\udd2a","\ud83d\ude35","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83d\ude07","\ud83e\udd20","\ud83e\udd21","\ud83e\udd73","\ud83e\udd74","\ud83e\udd7a","\ud83e\udd25","\ud83e\udd2b","\ud83e\udd2d","\ud83e\uddd0","\ud83e\udd13","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc80","\ud83d\udc7b","\ud83d\udc7d","\ud83e\udd16","\ud83d\udca9","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude3f","\ud83d\ude3e"],Lt=bn.c.div(X||(X=Object(fn.a)(["\n  display: flex;\n  position: fixed;\n  left: ","px;\n  max-width: 200px;\n  overflow: auto;\n  flex-wrap: wrap;\n  max-height: 200px;\n  border-radius: 12px;\n  background-color: inherit;\n  scrollbar-width: thin;\n  padding: 0.25rem;\n  top: ","px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n"])),(function(e){return e.right}),(function(e){return e.top})),zt=bn.c.div(q||(q=Object(fn.a)(["\n  display: flex;\n  color: rgba(0, 0, 0, 1);\n  cursor: pointer;\n"]))),Ft=function(e){var n=e.selected,t=e.right,r=e.top;return ln.a.createElement(Lt,{right:t,top:r},Rt.map((function(e){return ln.a.createElement(zt,{key:e,onClick:function(){return n(e)}},e)})))},Bt=bn.c.div(Y||(Y=Object(fn.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  min-height: 2rem;\n  max-height: 8rem;\n  border-radius: 12px;\n  color: ",";\n  background-color: ",";\n  transition: all 0.05s ease-in-out;\n  margin: 0.5rem 1.5rem 0 1.5rem;\n  transition: ",";\n  &:focus-within {\n    ",";\n  }\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.transition}),(function(e){return e.theme.foregroundColor})),Mt=bn.c.div(Z||(Z=Object(fn.a)(['\n  display: flex;\n  align-items: center;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-all;\n  overflow: auto;\n  scrollbar-width: thin;\n  font-family: "Montserrat", sans-serif;\n  font-weight: 500;\n  font-size: 0.6725rem;\n  line-height: 140%;\n  height: 100%;\n  flex-grow: 1;\n']))),Ht=Object(bn.c)(Nt)($||($=Object(fn.a)(["\n  background-color: transparent;\n  display: flex;\n  padding: 0;\n  color: inherit;\n  > svg {\n    font-size: 20px;\n    color: inherit;\n  }\n"]))),Ut=Object(bn.c)(kt.f)(ee||(ee=Object(fn.a)(["\n  margin-right: 0.5rem;\n  color: inherit;\n"]))),Gt=function(e){var n=e.socket,t=e.activeChatId,r=Object(un.useRef)(null),a=Object(un.useState)({open:!1,top:0,right:0}),i=Object(dn.a)(a,2),c=i[0],o=i[1],u="Enter message...",l=function(){var e=Object(On.a)(vn.a.mark((function e(r,a){return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{""!==t&&n.emit("ADD_MESSAGE_TO_CHAT",{image:r,extension:a,chat:t})}catch(i){}case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(e){e.currentTarget.innerText.trim()===u?e.currentTarget.innerText="":""===e.currentTarget.innerText.trim()&&(e.currentTarget.innerText=u)};return Object(un.useEffect)((function(){r&&(r.current.innerText=u)}),[t]),ln.a.createElement(Bt,null,ln.a.createElement(Mt,{contentEditable:"true",ref:r,onKeyDown:function(e){var r=e.currentTarget.innerText.trim();e.shiftKey||"Enter"!==e.key||""===t||""===r||(e.cancelBubble=!0,e.stopPropagation(),e.preventDefault(),n.emit("ADD_MESSAGE_TO_CHAT",{message:r,chat:t}),e.currentTarget.innerText=""),o(!1)},onFocus:s,onBlur:s,suppressContentEditableWarning:!0},u),ln.a.createElement(Ut,{onClick:function(e){if(c.open)return o(Object(jn.a)(Object(jn.a)({},c),{},{open:!1}));var n=e.currentTarget.getBoundingClientRect();return o({open:!c.open,right:n.right-220+n.width,top:n.top-200-n.height})},size:"1em"}),c.open&&ln.a.createElement(Ft,{selected:function(e){return r.current.innerText.trim()===u?r.current.innerText=e:r.current.innerText+=e},top:c.top,right:c.right}),ln.a.createElement(Ht,{uid:"mms",file:l},ln.a.createElement(kt.c,{size:"1em"})))},Pt=bn.c.img(ne||(ne=Object(fn.a)(["\n  max-width: 100%;\n  max-height: 200px;\n  display: ",";\n"])),(function(e){return"loaded"===e.state?"unset":"none"})),Vt=function(e){var n=e.image,t=e.onClick,r=Object(un.useState)("loading"),a=Object(dn.a)(r,2),i=a[0],c=a[1];return ln.a.createElement(ln.a.Fragment,null,ln.a.createElement(Pt,{state:i,src:n,onError:function(){return c("failure")},onLoad:function(){return c("loaded")},alt:"Image not available",onClick:t}),n&&"loading"===i&&ln.a.createElement("p",null,"Loading"),n&&"failure"===i&&ln.a.createElement("p",null,"Failure"))},Jt=bn.c.div(te||(te=Object(fn.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  padding: 0.25em 0;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.justify?"flex-start":"flex-end"}),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Kt=bn.c.div(re||(re=Object(fn.a)(["\n  border-radius: ",";\n  margin-left: ",";\n  padding: ",";\n  max-width: ",";\n  overflow: ",";\n  display: ",";\n  flex-direction: ",";\n  background-color: ",";\n  transition: ",';\n  color: inherit;\n  white-space: pre-wrap;\n  & > span {\n    font-family: "Roboto", sans-serif;\n    text-rendering: optimizeLegibility;\n    font-size: 0.85em;\n    color: inherit;\n  }\n'])),(function(e){return e.borderRadius?".25em 1em 1em":"1em .25em 1em 1em"}),(function(e){return e.margin?".5rem":"unset"}),(function(e){return e.image?"0":"0.5em 1em"}),(function(e){return e.image?"35%":"unset"}),(function(e){return e.image?"hidden":"unset"}),(function(e){return e.image?"flex":"unset"}),(function(e){return e.image?"column":"unset"}),(function(e){return e.theme.messageBackground}),(function(e){return e.theme.transition})),Qt=function(e){var n=e.received,t=void 0!==n&&n,r=e.message,a=e.recipient,i=e.avatar,c=e.image,o=e.onClick;return ln.a.createElement(Jt,{justify:t},t&&ln.a.createElement(Xn,{size:"20px",name:a,image:i}),ln.a.createElement(Kt,{margin:t,borderRadius:t,image:c},ln.a.createElement("span",null,r),c&&ln.a.createElement(Vt,{image:c,onClick:o})))},Wt=bn.c.div(ae||(ae=Object(fn.a)(["\n  flex-direction: column;\n  justify-content: space-between;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),Xt=bn.c.div(ie||(ie=Object(fn.a)(["\n  display: flex;\n  align-items:center;\n  flex-direction: column;\n  overflow-y: auto;\n"]))),qt=function(e){var n=e.avatar,t=e.chat_name,r=e.active_state;return console.log(t),ln.a.createElement(Wt,null,ln.a.createElement(Xn,{size:"20px",image:n,active:r}),ln.a.createElement(Xt,null,t))},Yt=bn.c.div(ce||(ce=Object(fn.a)(["\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 2;\n"]))),Zt=bn.c.div(oe||(oe=Object(fn.a)(["\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.8);\n  height: 100%;\n  width: 100%;\n  z-index: -1;\n"]))),$t=bn.c.img(ue||(ue=Object(fn.a)(["\nmax-height: 90vh;\nmax-width: 90vw;\nborder-radius: 1em;\n"]))),er=function(e){var n=e.image,t=e.callback;return ln.a.createElement(Yt,null,ln.a.createElement(Zt,{onClick:t}),ln.a.createElement($t,{src:n,onClick:t}))},nr=bn.c.div(le||(le=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  grid-area: messages;\n  justify-content: center;\n  padding: 1.5rem 0;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),tr=bn.c.div(se||(se=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  padding: 0 1.5rem;\n"]))),rr=function(e){var n=e.socket,t=Object(un.useRef)(null),r=Object(pn.c)((function(e){return e.rootReducer.activeChat})),a=Object(pn.c)((function(e){return e.rootReducer.user})),i=Object(un.useState)(null),c=Object(dn.a)(i,2),o=c[0],u=c[1];return Object(un.useEffect)((function(){r.id&&n.emit("LOAD_ACTIVE_CHAT_MESSAGES",r.id)}),[n,r.id]),Object(un.useEffect)((function(){t.current.scrollTop=t.current.scrollHeight}),[r.messages]),ln.a.createElement(nr,null,ln.a.createElement(qt,{avatar:r.avatar,chat_name:r.chat_name,active_state:r.active}),o&&ln.a.createElement(er,{image:o,callback:function(){return u(null)}}),ln.a.createElement(tr,{ref:t},null!==r.id&&r.messages.map((function(e){return console.log(e.message),ln.a.createElement(Qt,{key:e.id,received:e.username!==a.username,message:e.message,recipient:e.userNickname,avatar:r.avatar,image:e.image,onClick:function(){return u(e.image)}})}))),ln.a.createElement(Gt,{socket:n,activeChatId:r.id}))},ar=t(27),ir=t(37),cr=bn.c.div(me||(me=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  grid-area: nav;\n  padding: 1.5rem 0;\n  justify-content: space-between;\n  z-index: 2;\n  border-right: ",";\n  background: ",";\n  transition: ",";\n"])),(function(e){return e.theme.border}),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),or=bn.c.div(de||(de=Object(fn.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),ur=bn.c.div(fe||(fe=Object(fn.a)(["\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  position: relative;\n  margin-bottom: 10px;\n  visible:true;\n  background-color: #d50000;\n"]))),lr=Object(bn.c)(kt.g)(be||(be=Object(fn.a)(["\n  padding: 1em 0;\n  box-sizing: content-box;\n  color: ",";\n"])),(function(e){return"friends"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),sr=Object(bn.c)(ar.a)(ge||(ge=Object(fn.a)(["\n  padding: 1em 0;\n  box-sizing: content-box;\n  color: ",";\n"])),(function(e){return"circles"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),mr=Object(bn.c)(ar.b)(pe||(pe=Object(fn.a)(["\n  padding: 1em 0;\n  box-sizing: content-box;\n  color: ",";\n"])),(function(e){return"chats"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),dr=Object(bn.c)(ir.b)(he||(he=Object(fn.a)(["\n  padding: 1em 0;\n  box-sizing: content-box;\n  color: ",";\n    "])),(function(e){return"add"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),fr=Object(bn.c)(kt.a)(ve||(ve=Object(fn.a)(["\n  padding: 1em 0;\n  box-sizing: content-box;\n  color: ",";\n"])),(function(e){return"notifications"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),br=Object(bn.c)(kt.b)(Oe||(Oe=Object(fn.a)(["\n  padding: 0.5em 0;\n  box-sizing: content-box;\n  color: ",";\n\n"])),(function(e){return"settings"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),gr=Object(bn.c)(kt.d)(Ee||(Ee=Object(fn.a)(["\n  padding: 0.5em 0;\n  box-sizing: content-box;\n  color: ",";\n"])),(function(e){return e.theme.nightModeBtn})),pr=bn.c.div(je||(je=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),hr=bn.c.div(xe||(xe=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),vr=Object(bn.c)(Xn)(ye||(ye=Object(fn.a)(["\n  margin: 0 0 0.75rem 0;\n  cursor: pointer;\n"]))),Or=function(e){var n=e.avatar,t=e.activeList,r=e.setActiveList,a=e.setPos,i=e.setNightModeState,c=e.nightModeState,o=Object(pn.c)((function(e){return e.rootReducer.user.notifications}));return ln.a.createElement(cr,null,ln.a.createElement(pr,null,ln.a.createElement(vr,{size:"32px",image:n,onClick:a}),ln.a.createElement(or,null,ln.a.createElement(lr,{size:"25px",active:t,onClick:function(){return r("friends")}})),ln.a.createElement(or,null,ln.a.createElement(mr,{size:"25px",active:t,onClick:function(){return r("chats")}})),ln.a.createElement(or,null,ln.a.createElement(sr,{size:"25px",active:t,onClick:function(){return r("circles")}})),ln.a.createElement(or,null,ln.a.createElement(fr,{size:"25px",active:t,onClick:function(){return r("notifications")}}),function(){var e=!0;for(var n in o)e=e&&!n.dismissed;return e&&0!==o.length}()&&ln.a.createElement(ur,null)),ln.a.createElement(or,null,ln.a.createElement(dr,{size:"25px",active:t,onClick:function(){return r("add")}}))),ln.a.createElement(hr,null,ln.a.createElement(gr,{size:"20px",onClick:function(){return i(!c)}}),ln.a.createElement(br,{size:"20px",active:t,onClick:function(){return r("settings")}})))},Er=bn.c.div(ke||(ke=Object(fn.a)(["\n  display: flex;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.transition})),jr=bn.c.div(Ce||(Ce=Object(fn.a)(["\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  height: 100%;\n  width: 100%;\n"]))),xr=bn.c.div(we||(we=Object(fn.a)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: inherit;\n  border-radius: 0.25em;\n  padding: 1em;\n  flex-basis: 500px;\n  z-index: 4;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),yr=bn.c.div(Te||(Te=Object(fn.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n  margin: ",";\n"])),(function(e){return e.justify||"unset"}),(function(e){return e.margin||"0 0 1.5rem 0;"})),kr=bn.c.h1(_e||(_e=Object(fn.a)(['\n  font-family: "Roboto", sans-serif;\n  font-weight: 400;\n  color: inherit;\n  font-size: 1.25rem;\n  margin-left: 1rem;\n']))),Cr=bn.c.p(Ae||(Ae=Object(fn.a)(['\n  font-family: "Roboto", sans-serif;\n  font-weight: 500;\n  color: inherit;\n  font-size: 0.8em;\n  padding: 0;\n  margin: 0;\n']))),wr=Object(bn.c)(Cr)(Ie||(Ie=Object(fn.a)(["\n  font-weight: 400;\n  font-size: 0.6em;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Tr=bn.c.div(Se||(Se=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),_r=function(e){var n=e.socket,t=e.setActiveList,r=e.visible_in_searches,a=e.avatar,i=function(){var e=Object(On.a)(vn.a.mark((function e(t,r){return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.emit("ACCOUNT_UPDATE",{update:"avatar",extension:r,value:t});case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return ln.a.createElement(Er,null,ln.a.createElement(jr,{onClick:function(){return t("chats")}}),ln.a.createElement(xr,null,ln.a.createElement(yr,null,ln.a.createElement(Xn,{image:a}),ln.a.createElement(kr,null,"Account Settings")),ln.a.createElement(yr,{justify:"space-between",margin:"0.75rem 0"},ln.a.createElement(Tr,null,ln.a.createElement(Cr,null,"Account Visibility"),ln.a.createElement(wr,null,"Enable other users to find your account via search.")),ln.a.createElement(zn,{onClick:function(){return n.emit("ACCOUNT_UPDATE",{update:"visible_in_searches",value:!r})},state:r})),ln.a.createElement(yr,{justify:"space-between",margin:"0.75rem 0"},ln.a.createElement(Tr,null,ln.a.createElement(Cr,null,"Change Avatar"),ln.a.createElement(wr,null,"Upload an image to use as an avatar.")),ln.a.createElement(Nt,{uid:"avatar",file:i,text:"Upload Image"}))))},Ar=bn.c.div(De||(De=Object(fn.a)(["\n  display: flex;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.transition})),Ir=bn.c.div(Ne||(Ne=Object(fn.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  min-height: 5rem;\n  max-height: 10rem;\n  border-radius: 12px;\n  color: ",";\n  background-color: ",";\n  transition: all 0.05s ease-in-out;\n  margin: 0.5rem 1.5rem 0 1.5rem;\n  transition: ",";\n  &:focus-within {\n    ",";\n  }\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.transition}),(function(e){return e.theme.foregroundColor})),Sr=bn.c.div(Re||(Re=Object(fn.a)(["\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  height: 100%;\n  width: 100%;\n"]))),Dr=bn.c.div(Le||(Le=Object(fn.a)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  background-color: inherit;\n  border-radius: 0.25em;\n  padding: 1em;\n  flex-basis: 500px;\n  z-index: 4;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),Nr=bn.c.div(ze||(ze=Object(fn.a)(['\n  display: flex;\n  align-items: flex-start;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  min-height: 5rem;\n  word-wrap: break-word;\n  word-break: break-all;\n  overflow: auto;\n  scrollbar-width: thin;\n  font-family: "Montserrat", sans-serif;\n  font-weight: 500;\n  font-size: 0.6725rem;\n  line-height: 140%;\n  height: 100%;\n  flex-grow: 1;\n']))),Rr=function(e){var n=e.socket,t=e.setActiveList,r=e.user,a=e.resetButton,i=Object(un.useRef)(null),c=Object(un.useState)(""),o=Object(dn.a)(c,2),u=o[0],l=o[1],s="Record new moment as you like!",m=function(e){e.currentTarget.innerText.trim()===s?e.currentTarget.innerText="":""===e.currentTarget.innerText.trim()&&(e.currentTarget.innerText=s)};return ln.a.createElement(Ar,null,ln.a.createElement(Sr,{onClick:function(){a(!1),t("circles")}}),ln.a.createElement(Dr,null,ln.a.createElement(Ir,null,ln.a.createElement(Nr,{contentEditable:"true",ref:i,onKeyDown:function(e){var n=e.currentTarget.innerText.trim();l(n),e.shiftKey||"Enter"!==e.key||""===n||(e.cancelBubble=!0,e.stopPropagation(),e.preventDefault())},onchange:function(e){return l(e.currentTarget.innerText.trim())},onFocus:m,onBlur:m,suppressContentEditableWarning:!0},s)),ln.a.createElement(_n,{onClick:function(){n.emit("ADD_CIRCLE",{userId:r.id,circle:u}),a(!1),t("circles")}},"Show it now!")))},Lr=t(72),zr=t(73),Fr=bn.c.div(Fe||(Fe=Object(fn.a)(["\n  display: flex;\n  align-items: flex-start;\n  align-content: flex-content;\n  justify-content:  flex-start;\n  flex-direction: column;\n  padding: 0.25em 0;\n  color: ",";\n  transition: ",";\n  border-bottom: 1px solid #000;\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Br=bn.c.div(Be||(Be=Object(fn.a)(["\n  display: flex;\n  align-items: flex-start;\n  align-content: flex-content;\n  justify-content:  flex-start;\n  padding: 0.25em 0;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Mr=bn.c.div(Me||(Me=Object(fn.a)(["\n  display: flex;\n  align-items: flex-start;\n  align-content: flex-content;\n  justify-content:  flex-start;\n  padding: 0.25em 0.25em 0.25em 1em;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Hr=bn.c.div(He||(He=Object(fn.a)(["\n  display: flex;\n  align-items: flex-end;\n  align-content: flex-content;\n  justify-content:  flex-end;\n  padding-left: 1em;\n  padding-top: 0.25em;\n  padding-bottom:0.25em;\n  padding-right: 40em;\n  color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Ur=bn.c.div(Ue||(Ue=Object(fn.a)(["\n  padding: ",";\n  max-width: ",";\n  overflow: ",";\n  display: ",";\n  flex-direction: ",";\n  transition: ",";\n  white-space: pre-wrap;\n"])),(function(e){return e.image?"0":"0.25em 0.25em 1em 1em"}),(function(e){return e.image?"35%":"unset"}),(function(e){return e.image?"hidden":"unset"}),(function(e){return e.image?"flex":"unset"}),(function(e){return e.image?"column":"unset"}),(function(e){return e.theme.transition})),Gr=Object(bn.c)(Lr.a)(Ge||(Ge=Object(fn.a)(["\n    box-sizing: content-box;\n    margin-right: 1em;\n    color: ",";\n"])),(function(e){return e.active?e.theme.foregroundColor:e.theme.backgroundColor})),Pr=Object(bn.c)(ar.c)(Pe||(Pe=Object(fn.a)(["\n    box-sizing: content-box;\n    color: ",";\n"])),(function(e){return"chats"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),Vr=bn.c.div(Ve||(Ve=Object(fn.a)(["\n    margin-right: 1em;\n    margin-left: 1em;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),Jr=Object(bn.c)(zr.a)(Je||(Je=Object(fn.a)(["\n    box-sizing: content-box;\n\n    color: ",";\n"])),(function(e){return"chats"===e.active?e.theme.foregroundColor:e.theme.backgroundColor})),Kr=bn.c.div(Ke||(Ke=Object(fn.a)(["\n    display: flex;\n    background-color: ",";\n    transition: ",";\n"])),(function(e){return e.theme.messageBackground}),(function(e){return e.theme.transition})),Qr=bn.c.div(Qe||(Qe=Object(fn.a)(["\n    display: flex;\n    align-items: center;\n    align-content: flex-content;\n    padding: 0.25em 0.25em 0.25em 0em;\n    color: ",";\n    transition: ",";\n"])),(function(e){return e.theme.foregroundColor}),(function(e){return e.theme.transition})),Wr=function(e){var n=e.circle,t=e.creater,r=e.avatar,a=e.time,i=e.image,c=e.onClick,o=Object(un.useState)(!1),u=Object(dn.a)(o,2),l=u[0],s=u[1];return ln.a.createElement(Fr,null,ln.a.createElement(Br,null,ln.a.createElement(Xn,{size:"20px",name:t,image:r}),ln.a.createElement(Mr,null,t)),ln.a.createElement(Ur,{image:i},ln.a.createElement("div",null,n),i&&ln.a.createElement(Vt,{image:i,onClick:c})),ln.a.createElement(Qr,null,ln.a.createElement(Hr,null,a),ln.a.createElement(Gr,{size:"20px",active:l,onClick:function(){s(!l)}}),l&&ln.a.createElement(Kr,null,ln.a.createElement(Vr,null,ln.a.createElement(Pr,{size:"20px"}),"Like"),ln.a.createElement(Vr,null,ln.a.createElement(Jr,{size:"20px"}),"Comment"))))},Xr=bn.c.div(We||(We=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  grid-area: messages;\n  justify-content: space-between;\n  padding: 1.5rem 0;\n  background-color: ",";\n  transition: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),qr=bn.c.div(Xe||(Xe=Object(fn.a)(["\n    display: flex;\n    align-items: center;\n    padding: 0.5rem 0.75rem;\n    min-height: 2rem;\n    max-height: 8rem;\n    border-radius: 12px;\n    transition: all 0.05s ease-in-out;\n    margin: 0.5rem 1.5rem 0 1.5rem;\n    transition: ",";\n"])),(function(e){return e.theme.transition})),Yr=bn.c.div(qe||(qe=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scrollbar-width: thin;\n  padding: 0 1.5rem;\n"]))),Zr=function(e){var n=e.socket,t=e.setActiveList,r=Object(un.useRef)(null),a=Object(un.useState)(!1),i=Object(dn.a)(a,2),c=i[0],o=i[1],u=Object(pn.c)((function(e){return e.rootReducer.circles})),l=Object(pn.c)((function(e){return e.rootReducer.user})),s=Object(un.useState)(null),m=Object(dn.a)(s,2),d=m[0],f=m[1];return Object(un.useEffect)((function(){r.current.scrollTop=r.current.scrollHeight}),[u]),ln.a.createElement(Xr,null,d&&ln.a.createElement(er,{image:d,callback:function(){return f(null)}}),ln.a.createElement(Yr,{ref:r},u.map((function(e){return ln.a.createElement(Wr,{key:e.id,circle:e.circle,creater:e.userNickname,time:e.create_at,avatar:e.avatar,image:e.image,onClick:function(){return f(e.image)}})}))),ln.a.createElement(qr,null,ln.a.createElement(_n,{onClick:function(){return o(!0)}},"Post my moments!")),c&&ln.a.createElement(Rr,{socket:n,setActiveList:t,user:l,resetButton:o}))},$r=bn.c.div(Ye||(Ye=Object(fn.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 12px;\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  background-color: ",";\n  padding: 0.5rem 1rem;\n  min-width: 280px;\n  margin: 0.25rem;\n"])),(function(e){return e.bgColor?"rgba(211, 47, 47, 1)":"rgb(245, 245, 245)"})),ea=bn.c.span(Ze||(Ze=Object(fn.a)(["\n  padding: 0.25rem;\n  border-radius: 50%;\n  margin-left: 1rem;\n  display: flex;\n  margin-right: -0.5rem;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n  &:active {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]))),na=bn.c.span($e||($e=Object(fn.a)(['\n  font-size: 0.75rem;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.87);\n  line-height: 1.43;\n  letter-spacing: 0.01071em;\n  padding: 0.5rem 0rem;\n']))),ta=Object(bn.c)(ir.a)(en||(en=Object(fn.a)(["\n  font-size: 1.85rem;\n  color: rgba(0, 0, 0, 0.87);\n"]))),ra=Object(bn.c)(Xn)(nn||(nn=Object(fn.a)(["\n  margin-right: 0.5rem;\n"]))),aa=function(e){var n=e.uuid,t=e.type,r=e.message,a=e.dismiss,i=e.avatar,c=void 0===i?null:i,o=e.sender,u=void 0===o?null:o;return Object(un.useEffect)((function(){"ERROR"!==t&&setTimeout((function(){return a(n)}),5e3)}),[a,t,n]),ln.a.createElement($r,{bgColor:"ERROR"===t},c&&ln.a.createElement(ra,{image:c,userNickname:u}),ln.a.createElement(na,null,r),ln.a.createElement(ea,{onClick:function(){return a(n)}},ln.a.createElement(ta,{size:"1em"})))},ia=bn.c.div(tn||(tn=Object(fn.a)(["\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  right: 1rem;\n  top: 1rem;\n  max-height: calc(100vh - 1rem);\n  overflow-y: auto;\n"]))),ca=function(e){var n=e.socket,t=Object(pn.c)((function(e){return e.rootReducer.user.notifications})),r=function(e){return n.emit("DISMISS_NOTIFICATION",e)};return ln.a.createElement(ia,null,t.map((function(e){return!e.dismissed&&ln.a.createElement(aa,{type:e.type,key:e.id,uuid:e.id,message:e.message,dismiss:r,avatar:e.avatar,sender:e.sender})})))},oa=bn.c.div(rn||(rn=Object(fn.a)(["\n  display: flex;\n  position: fixed;\n  flex-direction: column;\n  align-items: center;\n  max-width: 150px;\n  top: ","px;\n  left: ","px;\n  background: ",";\n  padding: 0.5rem;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  width: 100%;\n  z-index: 2;\n  transition: ",";\n  & > button {\n    font-size: 0.7rem;\n    width: 100%;\n  }\n"])),(function(e){return e.top}),(function(e){return e.right}),(function(e){return e.theme.background}),(function(e){return e.theme.transition})),ua=bn.c.div(an||(an=Object(fn.a)(['\n  font-size: 0.85rem;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n  font-weight: 500;\n  color: ',";\n  padding: 0.5rem;\n"])),(function(e){return e.theme.backgroundColor})),la=function(e){var n=e.top,t=e.right,r=e.avatar,a=(e.username,e.userNickname),i=e.setActiveList,c=Object(pn.b)(),o=function(){var e=Object(On.a)(vn.a.mark((function e(){return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 2:200===e.sent.status&&c({type:"LOGOUT"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ln.a.createElement(oa,{top:n,right:t},ln.a.createElement(Xn,{image:r,size:"32px"}),ln.a.createElement(ua,null,a),ln.a.createElement(_n,{onClick:o},"Logout"),ln.a.createElement(_n,{onClick:function(){return i("settings")}},"Settings"))},sa=bn.c.div(cn||(cn=Object(fn.a)(['\n  display: grid;\n  grid-template-columns: 64px auto 1fr;\n  grid-template-rows: 1fr;\n  grid-template-areas: "nav lists messages";\n  height: 100%;\n  width: 100%;\n  background-color: #f7f7f7;\n']))),ma=function(e){var n=e.socket,t=e.nightModeState,r=Object(pn.c)((function(e){return e.rootReducer.user})),a=Object(un.useState)({active:"chats",open:!1}),i=Object(dn.a)(a,2),c=i[0],o=i[1],u=Object(un.useState)({open:!1,top:0,right:0}),l=Object(dn.a)(u,2),s=l[0],m=l[1],d=Object(pn.b)(),f=function(e){return o(Object(jn.a)(Object(jn.a)({},c),{},{active:e}))};return n&&ln.a.createElement(sa,null,s.open&&ln.a.createElement(la,{socket:n,top:s.top,right:s.right,avatar:r.avatar,username:r.username,userNickname:r.userNickname,setActiveList:f}),ln.a.createElement(Or,{socket:n,avatar:r.avatar,activeList:c.active,setActiveList:function(e){e===c.active?o(Object(jn.a)(Object(jn.a)({},c),{},{open:!c.open})):o(Object(jn.a)(Object(jn.a)({},c),{},{open:!0,active:e})),console.log("now list state:",c)},setPos:function(e){if(s.open)m(Object(jn.a)(Object(jn.a)({},s),{},{open:!1}));else{var n=e.currentTarget.getBoundingClientRect();m({open:!0,right:n.right+n.height/3,top:n.top+n.width/2})}},setNightModeState:function(){return d({type:"SET_NIGHT_MODE"})},nightModeState:t}),"circles"!==c.active&&ln.a.createElement(It,{socket:n,open:c.open,activeList:c.active,setActiveList:f}),"circles"!==c.active&&ln.a.createElement(rr,{socket:n}),"circles"===c.active&&ln.a.createElement(Zr,{socket:n,setActiveList:f}),ln.a.createElement(ca,{socket:n}),"settings"===c.active&&ln.a.createElement(_r,{socket:n,visible_in_searches:r.visible_in_searches,avatar:r.avatar,setActiveList:f}))},da=t(74),fa=t.n(da),ba=function(){var e=Object(pn.c)((function(e){return e.rootReducer.user.loggedIn})),n=Object(pn.b)(),t=Object(un.useRef)(null);return Object(un.useEffect)((function(){console.log("add 1 time"),e?(t.current=fa.a.connect("http://127.0.0.1:5000/"),console.log("socket.current",t.current),t.current.on("REAUTH",(function(){return n({type:"LOGOUT"})})),t.current.on("LOAD_CHATS",(function(e){return n(function(e){return{type:"LOAD_CHATS",payload:e}}(e))})),t.current.on("LOAD_FRIENDS",(function(e){return n(function(e){return{type:"LOAD_FRIENDS",payload:e}}(e))})),t.current.on("LOAD_CIRCLES",(function(e){return n(function(e){return{type:"LOAD_CIRCLES",payload:e}}(e))})),t.current.on("LOAD_USERS",(function(e){return n(function(e){return{type:"LOAD_USERS",payload:e}}(e))})),t.current.on("LOAD_NOTIFICATIONS",(function(e){return n(function(e){return{type:"LOAD_NOTIFICATIONS",payload:e}}(e))})),t.current.on("LOAD_ACTIVE_CHAT_MESSAGES",(function(e){return n(function(e){return{type:"LOAD_ACTIVE_CHAT_MESSAGES",payload:e}}(e))})),t.current.on("ADD_MESSAGE_TO_CHAT",(function(e){n(function(e){return{type:"ADD_MESSAGE_TO_CHAT",payload:e}}(e))})),t.current.on("ADD_CIRCLE",(function(e){return n(function(e){return{type:"ADD_CIRCLE",payload:e}}(e))})),t.current.on("ADD_FRIEND",(function(e){return n(function(e){return{type:"ADD_FRIEND",payload:e}}(e))})),t.current.on("ADD_CHAT",(function(e){n(function(e){return{type:"ADD_CHAT",payload:e}}(e)),n(Nn({id:e.id,recipient:e.recipient,recipientId:e.recipientId,avatar:e.avatar}))})),t.current.on("ADD_NOTIFICATION",(function(e){return n(function(e){return{type:"ADD_NOTIFICATION",payload:e}}(e))})),t.current.on("DISMISS_NOTIFICATION",(function(e){return n(function(e){return{type:"DISMISS_NOTIFICATION",payload:e}}(e))})),t.current.on("DELETE_NOTIFICATION",(function(e){return n(function(e){return{type:"DELETE_NOTIFICATION",payload:e}}(e))})),t.current.on("SET_FRIEND_ONLINE",(function(e){return n(function(e){return{type:"SET_FRIEND_ONLINE",payload:e}}(e))})),t.current.on("SET_FRIEND_OFFLINE",(function(e){return n(function(e){return{type:"SET_FRIEND_OFFLINE",payload:e}}(e))})),t.current.on("ERROR",(function(e){return n(function(e){return{type:"ERROR",payload:e}}(e))})),t.current.on("ACCOUNT_UPDATE",(function(e){return n(function(e){return{type:"ACCOUNT_UPDATE",payload:e}}(e))}))):t.current&&t.current.close()}),[e,n]),[t,e]},ga=Object(bn.b)(on||(on=Object(fn.a)(["\n* {\n  box-sizing: border-box;\n}\n  body {\n    margin: 0;\n    padding: 0;\n  }\n  #root {\n    height: 100vh;\n    width: 100vw;\n  }\n"])));var pa=function(){var e=ba(),n=Object(dn.a)(e,2),t=n[0],r=n[1],a=Object(pn.c)((function(e){return e.rootReducer.ui.mode})),i={background:a?"rgb(38,50,56)":"rgb(255, 255, 255)",border:a?"1px solid rgba(245,245,245,0.1)":"1px solid rgba(0,0,0,.1)",messageBackground:a?"rgba(245, 245, 245, 0.2)":"rgba(0, 0, 0, 0.075)",circleBackground:a?"rgba(255, 255, 255)":"rgba(0, 0, 0, 0.075)",inputBackground:a?"#4a4a4a":"rgba(0, 0, 0, 0.1)",elemBackground:"rgba(245, 245, 245, 0.2)",elemBackgroundHover:a?"rgba(245, 245, 245, .05)":"rgba(0, 0, 0, .05)",foregroundColor:a?"rgba(245, 245, 245, 0.8)":"rgba(0, 0, 0, 0.8)",backgroundColor:a?"rgba(245, 245, 245, 0.6)":"rgba(0, 0, 0, 0.6)",nightModeBtn:a?"#f0c420":"rgba(0, 0, 0, 0.5)",buttonBackground:a?"rgba(245, 245, 245, 0.6)":"rgba(0, 0, 0, 0.8)",buttonBorder:a?"1px solid rgba(245,245,245,0.1)":"none",buttonText:"rgba(245, 245, 245, 0.8)",transition:"all .5s cubic-bezier(0.39, 0.575, 0.565, 1)"};return ln.a.createElement(bn.a,{theme:i},ln.a.createElement(ga,null),r?ln.a.createElement(gn.a,{to:"/"}):ln.a.createElement(gn.b,{exact:!0,path:"/login",component:Gn}),r?ln.a.createElement(gn.a,{to:"/"}):ln.a.createElement(gn.b,{exact:!0,path:"/register",component:Jn}),ln.a.createElement(gn.b,{exact:!0,path:"/",render:function(){return r?ln.a.createElement(ma,{socket:t.current}):ln.a.createElement(gn.a,{to:"/login"})}}))},ha=t(75),va=t(16),Oa={friends:[],chats:[],circles:[],accounts:[],activeChat:{id:null,chat_name:null,active:null,recipientId:null,messages:[]},user:{loggedIn:!1,id:null,username:null,userNickname:null,avatar:null,notifications:[],visible_in_searches:!1},ui:{mode:!1}},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa.user.notifications,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_NOTIFICATIONS":return Object(mt.a)(n.payload);case"ADD_NOTIFICATION":return[].concat(Object(mt.a)(e),[n.payload]);case"DELETE_NOTIFICATION":var t=e.findIndex((function(e){return e.id===n.payload}));return[].concat(Object(mt.a)(e.slice(0,t)),Object(mt.a)(e.slice(t+1)));case"DISMISS_NOTIFICATION":var r=e.findIndex((function(e){return e.id===n.payload}));return[].concat(Object(mt.a)(e.slice(0,r)),[Object(jn.a)(Object(jn.a)({},e[r]),{},{dismissed:!0})],Object(mt.a)(e.slice(r+1)));default:return e}},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa.friends,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_FRIEND":return[].concat(Object(mt.a)(e),[n.payload]);case"DELETE_FRIEND":var t=e.findIndex((function(e){return e.id===n.payload}));return[].concat(Object(mt.a)(e.slice(0,t)),Object(mt.a)(e.slice(t+1)));case"SET_FRIEND_ONLINE":return e.map((function(e){return e.id===n.payload?Object(jn.a)(Object(jn.a)({},e),{},{active:!0}):e}));case"SET_FRIEND_OFFLINE":return e.map((function(e){return e.id===n.payload?Object(jn.a)(Object(jn.a)({},e),{},{active:!1}):e}));default:return e}},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa.chats,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_CHAT":return[].concat(Object(mt.a)(e),[n.payload]);case"ADD_MESSAGE_TO_CHAT":return e.map((function(e){return e.id===n.payload.chatId?Object(jn.a)(Object(jn.a)({},e),{},{last_message:n.payload.last_message,last_message_timestamp:n.payload.last_message_timestamp}):e}));case"SET_FRIEND_ONLINE":return e.map((function(e){return e.recipientId===n.payload?Object(jn.a)(Object(jn.a)({},e),{},{active:!0}):e}));case"SET_FRIEND_OFFLINE":return e.map((function(e){return e.recipientId===n.payload?Object(jn.a)(Object(jn.a)({},e),{},{active:!1}):e}));default:return e}},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa.circles,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_CIRCLE":return[n.payload].concat(Object(mt.a)(e));case"DELETE_CIRCLE":var t=e.findIndex((function(e){return e.id===n.payload}));return[].concat(Object(mt.a)(e.slice(0,t)),Object(mt.a)(e.slice(t+1)));default:return e}},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa.activeChat,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_MESSAGE_TO_CHAT":return n.payload.chatId!==e.id?e:Object(jn.a)(Object(jn.a)({},e),{},{messages:[].concat(Object(mt.a)(e.messages),[n.payload.message])});case"LOAD_ACTIVE_CHAT_MESSAGES":return Object(jn.a)(Object(jn.a)({},e),{},{messages:Object(mt.a)(n.payload)});case"SET_ACTIVE_CHAT":return Object(jn.a)(Object(jn.a)({},e),n.payload);default:return e}},Ca=Object(va.combineReducers)({rootReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN":return Object(jn.a)(Object(jn.a)({},e),{},{user:Object(jn.a)(Object(jn.a)({},e.user),{},{loggedIn:!0},n.payload)});case"LOGOUT":return Oa;case"SET_NIGHT_MODE":return Object(jn.a)(Object(jn.a)({},e),{},{ui:{mode:!e.ui.mode}});case"ACCOUNT_UPDATE":return Object(jn.a)(Object(jn.a)({},e),{},{user:Object(jn.a)(Object(jn.a)({},e.user),n.payload)});case"LOAD_FRIENDS":return Object(jn.a)(Object(jn.a)({},e),{},{friends:Object(mt.a)(n.payload)});case"LOAD_CHATS":return Object(jn.a)(Object(jn.a)({},e),{},{chats:Object(mt.a)(n.payload)});case"LOAD_USERS":return Object(jn.a)(Object(jn.a)({},e),{},{accounts:Object(mt.a)(n.payload)});case"LOAD_CIRCLES":return Object(jn.a)(Object(jn.a)({},e),{},{circles:Object(mt.a)(n.payload)});case"ADD_FRIEND":case"DELETE_FRIEND":return Object(jn.a)(Object(jn.a)({},e),{},{friends:ja(e.friends,n)});case"ADD_CIRCLE":case"DELETE_CIRCLE":return Object(jn.a)(Object(jn.a)({},e),{},{circles:ya(e.circles,n)});case"ADD_CHAT":case"DISSOLVE_CHAT":case"ADD_MESSAGE_TO_CHAT":return Object(jn.a)(Object(jn.a)({},e),{},{chats:xa(e.chats,n),activeChat:ka(e.activeChat,n)});case"SET_ACTIVE_CHAT":case"LOAD_ACTIVE_CHAT_MESSAGES":return Object(jn.a)(Object(jn.a)({},e),{},{activeChat:ka(e.activeChat,n)});case"SET_FRIEND_ONLINE":case"SET_FRIEND_OFFLINE":return Object(jn.a)(Object(jn.a)({},e),{},{friends:ja(e.friends,n),chats:xa(e.chats,n)});case"ADD_NOTIFICATION":case"LOAD_NOTIFICATIONS":case"DISMISS_NOTIFICATION":case"DELETE_NOTIFICATION":return Object(jn.a)(Object(jn.a)({},e),{},{user:Object(jn.a)(Object(jn.a)({},e.user),{},{notifications:Ea(e.user.notifications,n)})});default:return e}}}),wa=t(76),Ta=t.n(wa),_a=(t(123),t(124),t(49)),Aa=t(79),Ia=t(77),Sa=t(78),Da=t.n(Sa),Na={key:"root",storage:Ta.a,stateReconciler:Da.a},Ra=Object(_a.a)(Na,Ca),La=Object(va.legacy_createStore)(Ra,Object(Ia.composeWithDevTools)(Object(va.applyMiddleware)(Aa.a))),za=Object(_a.b)(La);mn.a.render(ln.a.createElement(pn.a,{store:La},ln.a.createElement(ha.a,{loading:null,persistor:za},ln.a.createElement(xn.a,null,ln.a.createElement(pa,null)))),document.getElementById("root"))},82:function(e,n,t){e.exports=t(125)}},[[82,1,2]]]);
//# sourceMappingURL=main.cee3ff05.chunk.js.map